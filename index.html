<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Kindify - Daily Kindness</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;800&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">

<style>
/* --- THEME: KINDIFY (Teal & Mint) --- */
:root {
  --primary: #0d9488;       /* Deep Teal */
  --primary-light: #ccfbf1; /* Mint background */
  --secondary: #0f172a;     /* Navy/Black text */
  --accent: #f59e0b;        /* Gold (for badges) */
  --white: #ffffff;
  --gray: #94a3b8;
  --success: #10b981;
}

* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: 'Open Sans', sans-serif;
  background-color: #f1f5f9;
  color: var(--secondary);
  line-height: 1.6;
  padding-bottom: 80px;
}

h1, h2, h3 { font-family: 'Outfit', sans-serif; color: var(--secondary); }
p { margin-bottom: 1.2rem; }

/* --- NAV --- */
nav {
  position: sticky; top: 0; z-index: 100;
  display: flex; justify-content: space-between; align-items: center;
  padding: 15px 5%;
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(8px);
  border-bottom: 1px solid rgba(0,0,0,0.05);
}

nav h1 { margin: 0; font-size: 1.6rem; color: var(--primary); font-weight: 800; letter-spacing: -0.5px; }

.nav-links { display: flex; gap: 15px; }
.nav-links a {
  text-decoration: none; color: var(--secondary); font-weight: 600;
  padding: 8px 14px; border-radius: 8px; font-size: 0.95rem;
  transition: all 0.2s ease;
}
.nav-links a:hover, .nav-links a.active-link {
  background-color: var(--primary-light); color: var(--primary);
}

/* --- PAGE SYSTEM --- */
.page {
  display: none;
  max-width: 800px; margin: 0 auto; padding: 30px 20px;
  animation: slideUp 0.4s ease-out;
}
.page.active { display: block; }

@keyframes slideUp {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* --- DAILY HERO (HOME) --- */
.daily-card {
  background: white;
  border-radius: 24px;
  padding: 40px;
  text-align: center;
  box-shadow: 0 10px 40px -10px rgba(13, 148, 136, 0.15);
  border: 1px solid #e2e8f0;
}

.streak-pill {
  background: var(--secondary); color: white;
  padding: 6px 16px; border-radius: 50px;
  font-size: 0.9rem; font-weight: 700;
  display: inline-block; margin-bottom: 20px;
}

.challenge-display {
  font-size: 2rem;
  font-weight: 800;
  color: var(--primary);
  margin: 20px 0 40px 0;
  line-height: 1.3;
}

button.action-btn {
  background: var(--primary); color: white;
  border: none; padding: 16px 32px; border-radius: 16px;
  font-size: 1.1rem; font-weight: 700; cursor: pointer;
  box-shadow: 0 4px 14px rgba(13, 148, 136, 0.4);
  transition: transform 0.1s, opacity 0.2s;
  width: 100%; max-width: 300px;
}
button.action-btn:active { transform: scale(0.97); }
button.action-btn:hover { opacity: 0.9; }
button.action-btn:disabled { background: var(--gray); cursor: not-allowed; box-shadow: none; }

/* --- BADGES SECTION --- */
.badge-section { margin-top: 50px; }
.badge-grid {
  display: grid; grid-template-columns: repeat(auto-fit, minmax(110px, 1fr));
  gap: 15px; margin-top: 20px;
}

.badge {
  background: white; padding: 15px; border-radius: 16px;
  text-align: center; opacity: 0.6; filter: grayscale(100%);
  border: 2px solid transparent; transition: all 0.3s;
  position: relative;
}

.badge.unlocked {
  opacity: 1; filter: grayscale(0%);
  border-color: var(--accent);
  background: #fffbeb; /* Light yellow bg */
  transform: translateY(-5px);
  box-shadow: 0 5px 15px rgba(245, 158, 11, 0.2);
}

.badge-icon { font-size: 2rem; display: block; margin-bottom: 5px; }
.badge-name { font-size: 0.85rem; font-weight: 700; color: var(--secondary); line-height: 1.2; }
.badge-req { 
  font-size: 0.7rem; color: #64748b; margin-top: 6px; 
  background: #f1f5f9; padding: 2px 6px; border-radius: 4px; display: inline-block;
}
.badge.unlocked .badge-req { background: rgba(245, 158, 11, 0.2); color: #92400e; }

/* --- COMMUNITY & OTHER --- */
.input-group { background: white; padding: 20px; border-radius: 16px; margin-bottom: 30px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05); }
input, textarea { width: 100%; padding: 12px; border: 2px solid #e2e8f0; border-radius: 10px; margin-bottom: 10px; font-family: inherit; }
input:focus, textarea:focus { outline: none; border-color: var(--primary); }

.post { background: white; padding: 20px; border-radius: 12px; margin-bottom: 15px; border-left: 4px solid var(--primary); box-shadow: 0 2px 4px rgba(0,0,0,0.03); }
.post strong { color: var(--primary); display: block; margin-bottom: 4px; }
.post small { color: #94a3b8; font-size: 0.75rem; }

/* --- MISSION PAGE TEXT --- */
.mission-box { background: white; padding: 40px; border-radius: 24px; border: 1px solid #e2e8f0; }
.mission-box h2 { color: var(--primary); margin-bottom: 20px; }
.mission-box h3 { margin-top: 30px; }

/* --- MOBILE --- */
@media (max-width: 600px) {
  nav { flex-direction: column; gap: 10px; }
  .challenge-display { font-size: 1.6rem; }
}
</style>
</head>
<body>

<nav>
  <h1>Kindify</h1>
  <div class="nav-links">
    <a href="#" onclick="switchPage('home', this)" class="active-link">Daily</a>
    <a href="#" onclick="switchPage('community', this)">Community</a>
    <a href="#" onclick="switchPage('about', this)">Mission</a>
  </div>
</nav>

<main id="home" class="page active">
  <div class="daily-card">
    <div class="streak-pill">üî• Streak: <span id="streak-display">0</span> Days</div>
    
    <div style="font-size: 0.9rem; text-transform: uppercase; letter-spacing: 1px; color: var(--gray); font-weight: 700;">Today's Mission</div>
    
    <div id="challenge-text" class="challenge-display">Loading Challenge...</div>
    
    <button id="complete-btn" class="action-btn" onclick="completeChallenge()">I Did This Today</button>
    <div id="status-msg" style="margin-top:15px; font-weight:600; color:var(--primary); height:24px;"></div>
  </div>

  <div class="badge-section">
    <h3>üèÜ Your Badge Collection</h3>
    <p style="font-size: 0.9rem; color: #666;">Complete daily challenges to unlock these.</p>
    <div class="badge-grid" id="badge-container">
      </div>
  </div>
</main>

<main id="community" class="page">
  <div class="daily-card" style="margin-bottom: 30px; padding: 30px;">
    <h3>Kindness Board</h3>
    <p>Inspire others by sharing what you did.</p>
    <input type="text" id="user-name" placeholder="Your Name">
    <textarea id="user-msg" rows="3" placeholder="I helped my neighbor by..."></textarea>
    <button class="action-btn" style="padding: 10px 20px; font-size: 1rem;" onclick="addPost()">Post Story</button>
  </div>
  <div id="posts-container"></div>
</main>

<main id="about" class="page">
  <div class="mission-box">
    <h2>The Kindify Mission</h2>
    
    <p>
      Kindify is built around the idea that kindness becomes more powerful when it is practiced consistently. The platform encourages small, intentional actions that fit naturally into everyday life and add up over time.
    </p>

    <p>
      Each challenge is designed to move kindness beyond intention and into action. By focusing on real interactions and shared experiences, Kindify helps people build stronger connections and create positive impact in their communities.
    </p>

    <h3>Why badges?</h3>
    <p>
      Because consistency is easier when progress is visible. Badges help track your journey and reinforce the habit of showing up with kindness, from your first step to becoming a Kindness Legend.
    </p>
  </div>
</main>

<script>
  /* --- 1. DATA & STATE --- */
  // Strictly external kindness challenges
  const challenges = [
    "Give a genuine compliment to a stranger.",
    "Pick up litter on your street.",
    "Text a friend you haven't spoken to in a while.",
    "Let someone cut in front of you in line/traffic.",
    "Leave a generous tip (even for small service).",
    "Hold the door open for everyone you see today.",
    "Donate a small amount to a local charity.",
    "Write a positive review for a local business.",
    "Help someone carry their groceries.",
    "Listen to someone without interrupting."
  ];

  // Badge Definitions with displayed requirements
  const badgeData = [
    { id: 'b1', icon: 'üå±', name: 'The Seed', req: 1, type: 'total', label: '1 Day' },
    { id: 'b2', icon: 'üî•', name: 'On Fire', req: 3, type: 'streak', label: '3 Day Streak' },
    { id: 'b3', icon: 'ü§ù', name: 'Helper', req: 5, type: 'total', label: '5 Days' },
    { id: 'b4', icon: '‚≠ê', name: 'Super Star', req: 10, type: 'total', label: '10 Days' },
    { id: 'b5', icon: 'üëë', name: 'Legend', req: 30, type: 'total', label: '30 Days' }
  ];

  // Load User Data
  let userStats = JSON.parse(localStorage.getItem('kindifyStats')) || {
    streak: 0,
    totalCompleted: 0,
    lastDate: null
  };

  const today = new Date().toDateString();

  /* --- 2. INITIALIZATION --- */
  function init() {
    // Set daily challenge based on date (so everyone gets the same one)
    const challengeIndex = new Date().getDate() % challenges.length;
    document.getElementById('challenge-text').innerText = challenges[challengeIndex];
    document.getElementById('streak-display').innerText = userStats.streak;

    // Check if already done today
    if (userStats.lastDate === today) {
      disableButton("Come back tomorrow for more!");
    }

    renderBadges();
    renderPosts();
  }

  /* --- 3. ACTIONS --- */
  function completeChallenge() {
    if (userStats.lastDate === today) return;

    // Update Stats
    userStats.streak++;
    userStats.totalCompleted++;
    userStats.lastDate = today;
    
    // Save
    localStorage.setItem('kindifyStats', JSON.stringify(userStats));

    // UI Updates
    document.getElementById('streak-display').innerText = userStats.streak;
    disableButton("Challenge Completed! üéâ");
    
    // Check for new badges
    checkBadges();
  }

  function disableButton(msg) {
    const btn = document.getElementById('complete-btn');
    const status = document.getElementById('status-msg');
    btn.disabled = true;
    btn.innerText = "Done ‚úî";
    status.innerText = msg;
  }

  /* --- 4. BADGE SYSTEM --- */
  function renderBadges() {
    const container = document.getElementById('badge-container');
    container.innerHTML = '';

    badgeData.forEach(badge => {
      // Determine if unlocked
      let isUnlocked = false;
      if (badge.type === 'total' && userStats.totalCompleted >= badge.req) isUnlocked = true;
      if (badge.type === 'streak' && userStats.streak >= badge.req) isUnlocked = true;

      const div = document.createElement('div');
      div.className = `badge ${isUnlocked ? 'unlocked' : ''}`;
      // Added badge-req div to display requirement
      div.innerHTML = `
        <span class="badge-icon">${badge.icon}</span>
        <div class="badge-name">${badge.name}</div>
        <div class="badge-req">Req: ${badge.label}</div>
      `;
      container.appendChild(div);
    });
  }

  function checkBadges() {
    // Re-render to show unlocked badges immediately
    renderBadges();
    
    // Check for specific unlocks to alert user
    badgeData.forEach(badge => {
       if (badge.type === 'total' && userStats.totalCompleted === badge.req) {
           alert(`You unlocked the ${badge.name} badge!`);
       }
       if (badge.type === 'streak' && userStats.streak === badge.req) {
           alert(`You unlocked the ${badge.name} badge!`);
       }
    });
  }

  /* --- 5. NAVIGATION --- */
  function switchPage(pageId, link) {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.getElementById(pageId).classList.add('active');
    
    document.querySelectorAll('.nav-links a').forEach(a => a.classList.remove('active-link'));
    link.classList.add('active-link');
  }

  /* --- 6. COMMUNITY --- */
  function renderPosts() {
    const container = document.getElementById('posts-container');
    const posts = JSON.parse(localStorage.getItem('kindifyPosts')) || [];
    container.innerHTML = '';
    
    if(posts.length === 0) {
      container.innerHTML = '<div style="text-align:center; color:#999; margin-top:20px">No stories yet. Be the first!</div>';
      return;
    }

    posts.forEach(post => {
      const div = document.createElement('div');
      div.className = 'post';
      div.innerHTML = `<strong>${post.name}</strong><p>${post.msg}</p><small>${post.date}</small>`;
      container.appendChild(div);
    });
  }

  function addPost() {
    const name = document.getElementById('user-name').value;
    const msg = document.getElementById('user-msg').value;
    if(!name || !msg) return alert("Please fill out both fields");

    const posts = JSON.parse(localStorage.getItem('kindifyPosts')) || [];
    posts.unshift({ name, msg, date: new Date().toLocaleDateString() });
    localStorage.setItem('kindifyPosts', JSON.stringify(posts));
    
    document.getElementById('user-msg').value = '';
    renderPosts();
    alert("Thanks for sharing!");
  }

  // Run on Load
  init();

</script>
</body>
</html>
